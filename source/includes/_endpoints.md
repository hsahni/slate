# Query API
## Data Search and Retrieval Endpoints
The following search and retrieval endpoints are available on the GDC API.

| Endpoints | Type | Description |
| --- | --- | --- |
| projects | Search & Retrieval | Search all data generated by a project |
| files | Search & Retrieval | Find all files with specific characteristics such as file_name, md5sum, data_format and others. |
| cases | Search & Retrieval | Find all files related to a specific case, or sample donor. |
| annotations | Search & Retrieval | Search annotations added to data after curation |

The GDC API supports a wide range of query string operators. Users can use a query string operation by placing the query terms and a ```?``` after the endpoint in the URL ```https://gdc-api.nci.nih.gov/projects?```. This allows users to select, filter and order the desired data as described in [Query Parameters](/#GDC Query Parameters).

### Project Endpoint
>This example is a query for Projects contained in GDC. It returns only the first two projects sorted by project id.

```shell
$  curl 'https://gdc-api.nci.nih.gov/projects?from=1&size=2&sort=project.project_id:asc&pretty=true'
{
  "data": {
    "hits": [
      {
        "state": "legacy", 
        "project_id": "TCGA-ACC", 
        "primary_site": "Adrenal Gland", 
        "disease_type": "Adrenocortical Carcinoma", 
        "name": "Adrenocortical Carcinoma"
      }, 
      {
        "dbgap_accession_number": "phs000464", 
        "disease_type": "Acute Lymphoblastic Leukemia", 
        "state": "legacy", 
        "primary_site": "Blood", 
        "project_id": "TARGET-ALL-P2", 
        "name": "Acute Lymphoblastic Leukemia - Phase II"
      }
    ], 
    "pagination": {
      "count": 2, 
      "sort": "project.project_id:asc", 
      "from": 1, 
      "pages": 22, 
      "total": 44, 
      "page": 1, 
      "size": 2
    }
  }, 
  "warnings": {}
}
```
The GDC Project Endpoint ```https://gdc-api.nci.nih.gov/projects``` provides overall access to all the data served by GDC organized by Project such project(study) name, program,disease, primary site and state.
  
### Files Endpoint
>This example is a query for files contained in GDC. It returns only the first two files, sorted by file size, from smallest to largest.

```shell
$ curl 'https://gdc-api.nci.nih.gov/files?from=1&size=2&sort=file_size:asc&pretty=true'
{
  "data": {
    "hits": [
      {
        "origin": "migrated", 
        "data_type": "Raw microarray data", 
        "platform": "HG-U133_Plus_2", 
        "file_name": "TCGA-AB-2842-03A-01R-0757-21.CEL.README", 
        "md5sum": "56f9a6d58b450bf7e9f6431a86220b9d", 
        "data_format": "CEL", 
        "acl": "open", 
        "access": "open", 
        "uploaded_datetime": 1425340539, 
        "state": "live", 
        "data_subtype": "Raw intensities", 
        "file_id": "ca13321c-02aa-4141-bdb6-84d31e3c5711", 
        "file_size": 43, 
        "experimental_strategy": "Gene expression array"
      }, 
      {
        "origin": "migrated", 
        "data_type": "Raw microarray data", 
        "platform": "HG-U133_Plus_2", 
        "file_name": "TCGA-AB-2809-03A-01R-0757-21.CEL.README", 
        "md5sum": "56f9a6d58b450bf7e9f6431a86220b9d", 
        "data_format": "CEL", 
        "acl": "open", 
        "access": "open", 
        "uploaded_datetime": 1425340539, 
        "state": "live", 
        "data_subtype": "Raw intensities", 
        "file_id": "299d500b-49e2-4c62-9111-c0691592dce1", 
        "file_size": 43, 
        "experimental_strategy": "Gene expression array"
      }
    ], 
    "pagination": {
      "count": 2, 
      "sort": "file_size:asc", 
      "from": 1, 
      "pages": 300936, 
      "total": 601872, 
      "page": 1, 
      "size": 2
    }
  }, 
  "warnings": {}
}
```
The GDC Files Endpoint ```'https://gdc-api.nci.nih.gov/files``` allows search and retrieval of all files with specific characteristics such as file_name, md5sum, data_format and others.

### Cases Endpoint
>This example is a query for files contained in GDC. It returns case where submitter id is 'TCGA-BH-A0EA', using the filters {"op":"and","content":[{"op":"in","content":{"field":"submitter_id","value":["TCGA-BH-A0EA"]}}]} .

```shell
$ curl 'https://gdc-api.nci.nih.gov/cases?filters=%7B%22op%22%3A%22and%22%2C%22content%22%3A%5B%7B%22op%22%3A%22in%22%2C%22content%22%3A%7B%22field%22%3A%22submitter_id%22%2C%22value%22%3A%5B%22TCGA-BH-A0EA%22%5D%7D%7D%5D%7D%0A%0A&pretty=true'
{
  "data": {
    "hits": [
      {
        "sample_ids": "7f791228-dd77-4ab0-8227-d784a4c7fea1", 
        "portion_ids": "8629bf5a-cdaf-4f6a-90bb-27dd4a7565c5", 
        "submitter_portion_ids": "TCGA-BH-A0EA-01A-21-A13C-20", 
        "submitter_aliquot_ids": "TCGA-BH-A0EA-01A-11D-A10Y-09", 
        "days_to_index": 0, 
        "submitter_analyte_ids": "TCGA-BH-A0EA-01A-11D", 
        "analyte_ids": "66ed0f86-5ca5-4dec-ba76-7ee4dcf31831", 
        "submitter_id": "TCGA-BH-A0EA", 
        "case_id": "1f601832-eee3-48fb-acf5-80c4a454f26e", 
        "slide_ids": "90154ea1-6b76-4445-870e-d531d6fa1239", 
        "submitter_sample_ids": "TCGA-BH-A0EA-01A", 
        "aliquot_ids": "561b8777-801a-49ed-a306-e7dafeb044b6", 
        "submitter_slide_ids": "TCGA-BH-A0EA-01A-01-TSA"
      }
    ], 
    "pagination": {
      "count": 1, 
      "sort": "", 
      "from": 1, 
      "pages": 1, 
      "total": 1, 
      "page": 1, 
      "size": 10
    }
  }, 
  "warnings": {}
}
```
The GDC Cases Endpoint ```'https://gdc-api.nci.nih.gov/cases``` allows search and retrieval of related to a specific case, or sample donor.
### Annotations Endpoint
>This example is a query for Annotations contained in GDC. It returns only the first two annotations.

```shell
$ curl 'https://gdc-api.nci.nih.gov/annotations?from=1&size=2&pretty=true'

{
  "data": {
    "hits": [
      {
        "category": "Item flagged DNU",
        "status": "Approved",
        "entity_id": "2b61b856-b988-43ca-8dc5-9f97600118ec",
        "classification": "CenterNotification",
        "entity_type": "aliquot",
        "created_datetime": 1294525038,
        "annotation_id": "7d01080f-e82d-5e58-98a6-910c041ee2b3",
        "notes": "SDRF in broad.mit.edu_READ.Genome_Wide_SNP_6.mage-tab.1.1003.0 flagged aliquot to be excluded for analysis based on file 'SCENA_p_TCGAb29and30_SNP_N_GenomeWideSNP_6_C04_569122.ismpolish.data.txt'.",
        "creator": "DCC",
        "submitter_id": "1099",
        "case_id": "e7503a51-6647-4cc2-80dd-645d0df4db43",
        "entity_submitter_id": "TCGA-AG-A008-10A-01D-A003-01"
      },
      {
        "category": "Item flagged DNU",
        "status": "Approved",
        "entity_id": "d1f35d46-c6c9-4cff-ad95-e86d88b38b51",
        "classification": "CenterNotification",
        "entity_type": "aliquot",
        "created_datetime": 1414794925,
        "annotation_id": "c6a9e076-bb56-5dd9-89e7-c340594fa8f7",
        "notes": "SDRF in broad.mit.edu_COAD.Genome_Wide_SNP_6.mage-tab.1.2010.0 flagged aliquot to be excluded for analysis based on file 'SNORT_p_TCGA_b89_SNP_N_GenomeWideSNP_6_E05_777376.birdseed.data.txt'.",
        "creator": "DCC",
        "submitter_id": "23507",
        "case_id": "57b0f89f-1b75-453e-922c-01cd4d44ca49",
        "entity_submitter_id": "TCGA-CK-5914-10A-01D-1649-01"
      }
    ],
    "pagination": {
      "count": 2,
      "sort": "",
      "from": 1,
      "pages": 12296,
      "total": 24592,
      "page": 1,
      "size": 2
    }
  },
  "warnings": {}
}
```
The GDC Annotation Endpoint ```'https://gdc-api.nci.nih.gov/annotations``` allows search and retrieval of annotations added to data after curation |





